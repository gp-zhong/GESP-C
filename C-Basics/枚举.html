<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ 枚举</title>
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto+Mono&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            light: '#a5f3fc',
                            DEFAULT: '#06b6d4',
                            dark: '#0891b2',
                        },
                        secondary: {
                            light: '#c7d2fe',
                            DEFAULT: '#818cf8',
                            dark: '#6366f1',
                        },
                        codeBlock: '#1e293b',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        mono: ['Roboto Mono', 'monospace'],
                    },
                }
            }
        }
    </script>
    <style>
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(6, 182, 212, 0.1), 0 10px 10px -5px rgba(6, 182, 212, 0.04);
        }
        .code-block::-webkit-scrollbar {
            height: 8px;
        }
        .code-block::-webkit-scrollbar-thumb {
            background-color: #06b6d4;
            border-radius: 4px;
        }
        .code-block::-webkit-scrollbar-track {
            background-color: #e2e8f0;
            border-radius: 4px;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="min-h-screen max-w-6xl mx-auto px-8 py-10">
        <!-- Header -->
        <header class="mb-12 text-center">
            <div class="inline-block px-3 py-1 bg-primary-light text-primary-dark rounded-full text-sm font-medium mb-4">
                C++ 高级数据类型
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-4">C++ 枚举</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">理解 C++ 枚举类型的概念、用法及其在程序设计中的应用</p>
        </header>

        <!-- Main Content -->
        <main>
            <!-- 枚举基础 Section -->
            <section class="mb-12 bg-white rounded-2xl shadow-md p-8">
                <div class="flex items-center mb-6">
                    <i class="fas fa-list-ol text-primary text-xl mr-3"></i>
                    <h2 class="text-2xl font-bold text-gray-800">枚举基础</h2>
                </div>
                <div class="space-y-4 text-gray-700">
                    <p>枚举（Enumeration）是 C++ 中的用户自定义数据类型，它由一组具有标识符的常量组成，这些常量称为枚举器（enumerator）。枚举可以使代码更加易读，并提供编译时类型检查。</p>
                    
                    <div class="overflow-x-auto bg-codeBlock rounded-lg p-4 mb-4">
                        <pre class="text-gray-100 font-mono text-sm"><code>// 传统枚举定义
enum Color {
    RED,    // 默认值为 0
    GREEN,  // 1
    BLUE    // 2
};

// 使用枚举
Color myColor = RED;
if (myColor == RED) {
    // 处理红色
}

// 可以指定枚举常量的值
enum Status {
    ERROR = -1,
    OK = 0,
    WARNING = 1
};</code></pre>
                    </div>
                    
                    <div class="p-5 bg-primary-light bg-opacity-10 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-2">枚举的主要特点：</h3>
                        <ul class="list-disc pl-5 space-y-1">
                            <li>每个枚举常量都是一个整数值，默认从 0 开始递增</li>
                            <li>可以显式指定枚举常量的值，未指定的常量会比前一个常量大 1</li>
                            <li>多个枚举常量可以具有相同的值</li>
                            <li>传统枚举会被隐式转换为整数，这可能导致类型安全问题</li>
                            <li>枚举常量是编译时常量，可用于数组大小、switch 语句等</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- 枚举类 Section -->
            <section class="mb-12 bg-white rounded-2xl shadow-md p-8">
                <div class="flex items-center mb-6">
                    <i class="fas fa-cubes text-primary text-xl mr-3"></i>
                    <h2 class="text-2xl font-bold text-gray-800">枚举类（C++11）</h2>
                </div>
                <div class="space-y-4 text-gray-700">
                    <p>C++11 引入了强类型枚举（enum class 或 enum struct），它提供了更好的类型安全性和作用域控制：</p>
                    
                    <div class="overflow-x-auto bg-codeBlock rounded-lg p-4 mb-4">
                        <pre class="text-gray-100 font-mono text-sm"><code>// 枚举类定义
enum class ColorClass {
    RED,
    GREEN,
    BLUE
};

// 使用枚举类
ColorClass myColor = ColorClass::RED;  // 必须使用作用域解析运算符

// 枚举类不会隐式转换为整数
// int x = myColor;  // 错误：需要显式转换
int x = static_cast<int>(myColor);  // 正确

// 可以指定底层类型
enum class SmallEnum : char {
    A, B, C
};</code></pre>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="card-hover p-6 bg-gray-50 rounded-xl">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                枚举类的优点
                            </h3>
                            <ul class="list-disc pl-5 space-y-2 text-gray-700">
                                <li>提高类型安全性，不会隐式转换为整数</li>
                                <li>枚举器在枚举类的作用域内，不会污染全局命名空间</li>
                                <li>可以指定底层类型，控制枚举大小</li>
                                <li>不同枚举类的同名枚举器不会冲突</li>
                            </ul>
                        </div>
                        
                        <div class="card-hover p-6 bg-gray-50 rounded-xl">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-code text-blue-500 mr-2"></i>
                                使用示例
                            </h3>
                            <div class="overflow-x-auto bg-codeBlock rounded-lg p-3">
                                <pre class="text-gray-100 font-mono text-sm"><code>#include &lt;iostream&gt;

enum class Direction {
    NORTH, EAST, SOUTH, WEST
};

enum class CardinalPoint {
    NORTH, EAST, SOUTH, WEST
};

int main() {
    Direction d = Direction::NORTH;
    CardinalPoint c = CardinalPoint::EAST;
    
    // 同名但不冲突
    if (d == Direction::NORTH) {
        std::cout << "Heading north" << std::endl;
    }
    
    // 不能直接比较不同枚举类
    // if (d == c) // 错误
    
    return 0;
}</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-5 bg-blue-50 rounded-xl border-l-4 border-blue-400 mb-6">
                        <div class="flex items-start">
                            <i class="fas fa-info-circle text-blue-500 mt-1 mr-3"></i>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2">枚举类和传统枚举的比较</h3>
                                <table class="min-w-full border-collapse mt-2">
                                    <thead>
                                        <tr class="bg-blue-100">
                                            <th class="border border-blue-200 p-2 text-left">特性</th>
                                            <th class="border border-blue-200 p-2 text-left">传统枚举 enum</th>
                                            <th class="border border-blue-200 p-2 text-left">枚举类 enum class</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="bg-white">
                                            <td class="border border-blue-200 p-2">作用域</td>
                                            <td class="border border-blue-200 p-2">全局作用域</td>
                                            <td class="border border-blue-200 p-2">枚举类作用域</td>
                                        </tr>
                                        <tr class="bg-gray-50">
                                            <td class="border border-blue-200 p-2">类型安全</td>
                                            <td class="border border-blue-200 p-2">较低，可隐式转换为整数</td>
                                            <td class="border border-blue-200 p-2">较高，不可隐式转换</td>
                                        </tr>
                                        <tr class="bg-white">
                                            <td class="border border-blue-200 p-2">指定底层类型</td>
                                            <td class="border border-blue-200 p-2">C++11 后支持</td>
                                            <td class="border border-blue-200 p-2">支持</td>
                                        </tr>
                                        <tr class="bg-gray-50">
                                            <td class="border border-blue-200 p-2">使用方式</td>
                                            <td class="border border-blue-200 p-2">直接使用枚举器名称</td>
                                            <td class="border border-blue-200 p-2">需使用作用域解析运算符</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 枚举的应用 Section -->
            <section class="mb-12 bg-white rounded-2xl shadow-md p-8">
                <div class="flex items-center mb-6">
                    <i class="fas fa-puzzle-piece text-primary text-xl mr-3"></i>
                    <h2 class="text-2xl font-bold text-gray-800">枚举的应用</h2>
                </div>
                <div class="space-y-4 text-gray-700">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">1. 表示状态和选项</h3>
                    <div class="overflow-x-auto bg-codeBlock rounded-lg p-4 mb-6">
                        <pre class="text-gray-100 font-mono text-sm"><code>enum class FileMode {
    READ,
    WRITE,
    APPEND,
    BINARY
};

void openFile(const std::string& filename, FileMode mode) {
    if (mode == FileMode::READ) {
        // 以只读模式打开文件
    } else if (mode == FileMode::WRITE) {
        // 以写入模式打开文件
    }
    // 处理其他模式...
}</code></pre>
                    </div>
                    
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">2. 定义常量组</h3>
                    <div class="overflow-x-auto bg-codeBlock rounded-lg p-4 mb-6">
                        <pre class="text-gray-100 font-mono text-sm"><code>enum class Month {
    JANUARY = 1,  // 显式设置起始值为 1
    FEBRUARY,
    MARCH,
    APRIL,
    MAY,
    JUNE,
    JULY,
    AUGUST,
    SEPTEMBER,
    OCTOBER,
    NOVEMBER,
    DECEMBER
};

// 使用
bool isWinter(Month m) {
    return m == Month::DECEMBER || m == Month::JANUARY || m == Month::FEBRUARY;
}</code></pre>
                    </div>
                    
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">3. 位标志（Bit Flags）</h3>
                    <div class="overflow-x-auto bg-codeBlock rounded-lg p-4 mb-6">
                        <pre class="text-gray-100 font-mono text-sm"><code>// 传统枚举更适合用作位标志
enum FilePermission {
    NONE = 0,
    READ = 1 << 0,    // 1
    WRITE = 1 << 1,   // 2
    EXECUTE = 1 << 2  // 4
};

// 可以使用位运算组合权限
int permissions = READ | WRITE;  // 3 = 读写权限

// 检查权限
bool canRead = (permissions & READ) != 0;  // true
bool canExecute = (permissions & EXECUTE) != 0;  // false</code></pre>
                    </div>
                    
                    <div class="card-hover p-6 bg-gray-50 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">枚举在算法竞赛中的应用</h3>
                        <p class="mb-3">在算法竞赛中，枚举常用于以下场景：</p>
                        <ul class="list-disc pl-5 space-y-2 text-gray-700">
                            <li>定义方向向量，如上、下、左、右的偏移量</li>
                            <li>表示图搜索中节点的状态（未访问、已访问、已处理）</li>
                            <li>定义动态规划中的状态</li>
                            <li>优化代码可读性，避免使用魔法数字（Magic Numbers）</li>
                        </ul>
                        <div class="mt-4 overflow-x-auto bg-codeBlock rounded-lg p-3">
                            <pre class="text-gray-100 font-mono text-sm"><code>// 常见的方向枚举（用于 DFS/BFS）
enum Direction {
    UP, RIGHT, DOWN, LEFT
};

// 方向向量
const int dx[4] = {-1, 0, 1, 0};  // 上、右、下、左
const int dy[4] = {0, 1, 0, -1};

void dfs(int x, int y) {
    for (int dir = 0; dir < 4; dir++) {
        int nx = x + dx[dir];
        int ny = y + dy[dir];
        // 检查新位置是否有效并递归
    }
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 枚举的最佳实践 Section -->
            <section class="mb-12 bg-white rounded-2xl shadow-md p-8">
                <div class="flex items-center mb-6">
                    <i class="fas fa-award text-primary text-xl mr-3"></i>
                    <h2 class="text-2xl font-bold text-gray-800">枚举的最佳实践</h2>
                </div>
                <div class="space-y-4 text-gray-700">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="card-hover p-6 bg-gray-50 rounded-xl">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-check text-green-500 mr-2"></i>
                                何时使用传统枚举
                            </h3>
                            <ul class="list-disc pl-5 space-y-2 text-gray-700">
                                <li>需要与 C 代码兼容时</li>
                                <li>需要利用枚举常量的隐式整数转换</li>
                                <li>使用枚举作为位标志（bit flags）</li>
                                <li>在旧的编译器上（不支持 C++11）</li>
                                <li>需要序列化/反序列化枚举值时</li>
                            </ul>
                        </div>
                        
                        <div class="card-hover p-6 bg-gray-50 rounded-xl">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-check text-green-500 mr-2"></i>
                                何时使用枚举类（enum class）
                            </h3>
                            <ul class="list-disc pl-5 space-y-2 text-gray-700">
                                <li>需要更好的类型安全性</li>
                                <li>避免命名冲突和命名空间污染</li>
                                <li>需要控制枚举的底层类型</li>
                                <li>编写大型程序，特别是库或框架</li>
                                <li>可能有多个同名枚举常量的情况</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="p-5 bg-yellow-50 rounded-xl border-l-4 border-yellow-400">
                        <div class="flex items-start">
                            <i class="fas fa-lightbulb text-yellow-500 mt-1 mr-3"></i>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2">枚举使用技巧</h3>
                                <ul class="list-disc pl-5 space-y-1 text-gray-700">
                                    <li>为枚举提供有意义的名称和值，增强代码可读性</li>
                                    <li>使用枚举而非魔法数字（Magic Numbers）</li>
                                    <li>在类中定义枚举时，考虑使用枚举类以避免名称冲突</li>
                                    <li>考虑为枚举常量添加前缀，使其在全局命名空间中更具辨识度</li>
                                    <li>在算法竞赛中，可以利用枚举简化复杂的状态转换逻辑</li>
                                    <li>对于较复杂的枚举，考虑添加辅助函数来处理枚举值</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">枚举辅助函数示例</h3>
                    <div class="overflow-x-auto bg-codeBlock rounded-lg p-4 mb-6">
                        <pre class="text-gray-100 font-mono text-sm"><code>#include &lt;iostream&gt;
#include &lt;string&gt;

enum class Day {
    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY
};

// 将枚举转换为字符串
std::string dayToString(Day day) {
    switch (day) {
        case Day::MONDAY: return "Monday";
        case Day::TUESDAY: return "Tuesday";
        case Day::WEDNESDAY: return "Wednesday";
        case Day::THURSDAY: return "Thursday";
        case Day::FRIDAY: return "Friday";
        case Day::SATURDAY: return "Saturday";
        case Day::SUNDAY: return "Sunday";
        default: return "Unknown day";
    }
}

// 检查是否为工作日
bool isWeekday(Day day) {
    return day >= Day::MONDAY && day <= Day::FRIDAY;
}

// 获取下一天
Day nextDay(Day day) {
    return static_cast<Day>((static_cast<int>(day) + 1) % 7);
}

int main() {
    Day today = Day::WEDNESDAY;
    
    std::cout << "Today is " << dayToString(today) << std::endl;
    std::cout << "Tomorrow is " << dayToString(nextDay(today)) << std::endl;
    
    if (isWeekday(today)) {
        std::cout << "It's a weekday." << std::endl;
    } else {
        std::cout << "It's the weekend!" << std::endl;
    }
    
    return 0;
}</code></pre>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="mt-16 text-center text-gray-500 text-sm">
            <div class="flex justify-center mt-6 space-x-4">
                <a href="简介.html" class="text-primary hover:text-primary-dark transition-colors duration-300">
                    <i class="fas fa-home mr-1"></i>首页
                </a>
                <a href="基本数据类型.html" class="text-primary hover:text-primary-dark transition-colors duration-300">
                    <i class="fas fa-arrow-left ml-1"></i>基本数据类型
                </a>
                <a href="结构体.html" class="text-primary hover:text-primary-dark transition-colors duration-300">
                    结构体<i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
        </footer>
    </div>

    <!-- Simple ScrollReveal effect -->
    <script src="https://unpkg.com/scrollreveal"></script>
    <script>
        ScrollReveal().reveal('section', { 
            delay: 200,
            distance: '20px',
            origin: 'bottom',
            duration: 800,
            easing: 'ease-in-out'
        });
    </script>
</body>
</html> 